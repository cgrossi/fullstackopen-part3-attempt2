{"version":3,"sources":["services/numberService.js","components/Filter.js","components/NewContact.js","components/Person.js","components/Persons.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","personObj","post","id","put","delete","Filter","newSearch","handleSearch","value","onChange","NewContact","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","person","handleDelete","name","number","onClick","Persons","personsToShow","map","i","key","Notification","message","style","padding","margin","display","backgroundColor","color","borderRadius","App","useState","persons","setPersons","isFiltered","setIsFiltered","setNewName","setNewNumber","setNewSearch","notification","setNotification","useEffect","numberService","filter","el","toLowerCase","includes","e","target","length","preventDefault","some","window","confirm","existingPerson","find","returnedPerson","setTimeout","concat","Object","keys","updated","personToDelete","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cd4ad7bc.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = 'https://infinite-coast-95684.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (personObj) => {\r\n  const request = axios.post(baseUrl, personObj)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, personObj) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, personObj)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react';\r\n\r\nconst Filter = ({ newSearch, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      filter names with <input value={newSearch} onChange={handleSearch} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter;\r\n\r\n","import React from 'react';\r\n\r\nconst NewContact = ({ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default NewContact;","import React from 'react';\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  return (\r\n    <>\r\n      <p>{person.name} {person.number} <button onClick={handleDelete} id={person.id}>delete</button></p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\n\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ personsToShow, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {personsToShow.map((person, i) => <Person key={i} person={person} handleDelete={handleDelete} />)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react';\r\n\r\nconst Notification = ({ message: { message, type } }) => {\r\n  let successStyle = {\r\n    padding: 10,\r\n    margin: 5,\r\n    display: 'inline block',\r\n    backgroundColor: '#16c98d',\r\n    color: 'white',\r\n    borderRadius: 5\r\n  }\r\n  let errorStyle = {\r\n    padding: 10,\r\n    margin: 5,\r\n    display: 'inline block',\r\n    backgroundColor: '#fa5e5b',\r\n    color: 'white',\r\n    borderRadius: 5\r\n  }\r\n  if(message === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div style={type === 'success' ? successStyle : errorStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\r\nimport numberService from '../services/numberService';\r\n\r\nimport Filter from './Filter';\r\nimport NewContact from './NewContact';\r\nimport Persons from './Persons';\r\nimport Notification from './Notification';\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]);\r\n  const [ isFiltered, setIsFiltered ] = useState(false);\r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ newSearch, setNewSearch ] = useState('');\r\n  const [ notification, setNotification ] = useState({ message: null, type: '' });\r\n  \r\n  useEffect(() => {\r\n    numberService\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = e => setNewName(e.target.value);\r\n\r\n  const handleNumberChange = e => setNewNumber(e.target.value);\r\n\r\n  const handleSearch = e => {\r\n    setNewSearch(e.target.value);\r\n    e.target.value.length > 0 ? setIsFiltered(true) : setIsFiltered(false);\r\n  };\r\n\r\n  const personsToShow = isFiltered ? persons.filter(el => el.name.toLowerCase().includes(newSearch.toLowerCase())) : persons;\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    \r\n    if(persons.some(person => person.name.toLowerCase() === newName.toLowerCase())) {\r\n      let replace = window.confirm(`${newName} already exists, replace their number?`)\r\n      if (replace === false) return null;\r\n      let existingPerson = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n\r\n      numberService\r\n        .update(existingPerson.id, {...existingPerson, number: newNumber})\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\r\n          setNotification({\r\n            ...notification,\r\n            message: `${returnedPerson.name}'s number was successfully changed.`,\r\n            type: 'success'\r\n          })\r\n          setTimeout(() => {\r\n            setNotification({ ...notification, \r\n              message: null,\r\n              type: ''\r\n            })\r\n          }, 4000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    } else {\r\n      let newPerson = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      numberService\r\n        .create(newPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson));\r\n          setNotification({\r\n            ...notification,\r\n            message: `${returnedPerson.name} was successfully added to the phonebook.`,\r\n            type: 'success'\r\n          })\r\n          setTimeout(() => {\r\n            setNotification({ ...notification, \r\n              message: null,\r\n              type: ''\r\n            })\r\n          }, 4000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleDelete = (e) => {\r\n    const person = persons.find(person => person.id === +e.target.id)\r\n    const id = person.id\r\n\r\n    window.confirm(`Are you sure you wish to delete ${person.name}?`)\r\n    numberService\r\n      .remove(id)\r\n      .then(data => {\r\n        if(Object.keys(data).length === 0) {\r\n          let updated = persons.filter(personToDelete => personToDelete.id !== id)\r\n          setPersons(updated)\r\n          setNotification({\r\n            ...notification,\r\n            message: `${person.name} was successfully deleted from phonebook.`,\r\n            type: 'success'\r\n          })\r\n          setTimeout(() => {\r\n            setNotification({ ...notification, \r\n              message: null,\r\n              type: ''\r\n            })\r\n          }, 4000)\r\n        }\r\n      })\r\n      .catch(e => {\r\n        setNotification({\r\n          ...notification,\r\n          message: `Info for ${person.name} has already been removed from the server.`,\r\n          type: 'fail'\r\n        })\r\n        setTimeout(() => {\r\n          setNotification({ ...notification, \r\n            message: null,\r\n            type: ''\r\n          })\r\n        }, 4000)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <Filter newSearch={newSearch} handleSearch={handleSearch} />\r\n      <h3>Add new contact</h3>\r\n      <NewContact handleSubmit={handleSubmit} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\r\n      <h3>Numbers</h3>\r\n      <Persons personsToShow={personsToShow} handleDelete={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}